{{define "content"}}
<div>
    {{template "repo-header" .}}
    {{template "repo-tabs" .}}

    <div class="text-xs text-[var(--color-text-muted)] mb-4">
        branch: <span class="text-[var(--color-text-dim)]">{{.Ref}}</span>
    </div>

    <div class="border border-[var(--color-border)]">
        <table class="w-full text-sm">
            {{range .Commits}}
            <tr class="border-b border-[var(--color-border-light)] last:border-0 hover:bg-[var(--color-surface)]">
                <td class="px-4 py-2.5">
                    <a href="/{{$.RepoName}}/commit/{{.Hash}}" class="text-[var(--color-text)] hover:text-white truncate block">{{.Message | firstLine}}</a>
                </td>
                <td class="px-4 py-2.5 text-[var(--color-text-dim)] text-xs whitespace-nowrap">{{.Author}}</td>
                <td class="px-4 py-2.5 text-[var(--color-text-muted)] text-xs whitespace-nowrap">{{.Date | timeAgo}}</td>
                <td class="px-4 py-2.5 text-[var(--color-text-muted)] text-xs whitespace-nowrap">{{.ShortHash}}</td>
            </tr>
            {{end}}
        </table>
    </div>

    {{if or .HasPrev .HasNext}}
    <div class="flex justify-between items-center mt-4 text-xs">
        {{if .HasPrev}}
        <a href="/{{.RepoName}}/log/{{.Ref}}?page={{sub .Page 1}}" class="text-[var(--color-text-dim)] hover:text-white">&larr; newer</a>
        {{else}}<span></span>{{end}}
        <span class="text-[var(--color-text-muted)]">page {{add .Page 1}}</span>
        {{if .HasNext}}
        <a href="/{{.RepoName}}/log/{{.Ref}}?page={{add .Page 1}}" class="text-[var(--color-text-dim)] hover:text-white">older &rarr;</a>
        {{end}}
    </div>
    {{end}}
</div>
{{end}}
